import{r as d,R as x,P as u,j as t,d as y,A as R,D as T,w as P,E as w,u as L,C as N,S as z,F as C,G as W,g as O,H as k,h as I,c as E}from"./index-aa3f8ed9.js";import{a as F,F as M}from"./index.esm-9774ed4d.js";import{r as $,s as A,f as D}from"./logs-253cb530.js";import{d as H}from"./debounce-c1ba2006.js";import{u as B}from"./useRemainingViewPortHeight-8f8ae068.js";import{F as q,p as G}from"./Fab-82e79c68.js";import{P as K,a as V}from"./play-0c8e26e5.js";function f(){return f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},f.apply(this,arguments)}function Y(e,r){if(e==null)return{};var o=J(e,r),s,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(o[s]=e[s])}return o}function J(e,r){if(e==null)return{};var o={},s=Object.keys(e),a,n;for(n=0;n<s.length;n++)a=s[n],!(r.indexOf(a)>=0)&&(o[a]=e[a]);return o}var _=d.forwardRef(function(e,r){var o=e.color,s=o===void 0?"currentColor":o,a=e.size,n=a===void 0?24:a,l=Y(e,["color","size"]);return x.createElement("svg",f({ref:r,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),x.createElement("circle",{cx:"11",cy:"11",r:"8"}),x.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});_.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};_.displayName="Search";const Q=_,U="_RuleSearch_1oz2t_1",X="_RuleSearchContainer_1oz2t_5",Z="_inputWrapper_1oz2t_10",ee="_input_1oz2t_10",te="_iconWrapper_1oz2t_35",p={RuleSearch:U,RuleSearchContainer:X,inputWrapper:Z,input:ee,iconWrapper:te};function oe({dispatch:e,searchText:r,updateSearchText:o}){const[s,a]=d.useState(r),n=d.useCallback(i=>{e(o(i))},[e,o]),l=d.useMemo(()=>H(n,300),[n]),g=i=>{a(i.target.value),l(i.target.value)};return t.jsx("div",{className:p.RuleSearch,children:t.jsxs("div",{className:p.RuleSearchContainer,children:[t.jsx("div",{className:p.inputWrapper,children:t.jsx("input",{type:"text",value:s,onChange:g,className:p.input})}),t.jsx("div",{className:p.iconWrapper,children:t.jsx(Q,{size:20})})]})})}const se=e=>({searchText:R(e),updateSearchText:T}),re=y(se)(oe),ae="_logMeta_7a1x3_1",ne="_logType_7a1x3_8",ce="_logTime_7a1x3_18",ie="_logText_7a1x3_24",le="_logsWrapper_7a1x3_37",pe="_logPlaceholder_7a1x3_51",ge="_logPlaceholderIcon_7a1x3_64",he="_search_7a1x3_68",c={logMeta:ae,logType:ne,logTime:ce,logText:ie,logsWrapper:le,logPlaceholder:pe,logPlaceholderIcon:ge,search:he},{useCallback:v,memo:ue,useEffect:de}=I,m=30,xe={debug:"#28792c",info:"var(--bg-log-info-tag)",warning:"#b99105",error:"#c11c1c"};function me({time:e,even:r,payload:o,type:s}){const a=E({even:r},"log");return t.jsx("div",{className:a,children:t.jsxs("div",{className:c.logMeta,children:[t.jsx("div",{className:c.logTime,children:e}),t.jsx("div",{className:c.logType,style:{backgroundColor:xe[s]},children:s}),t.jsx("div",{className:c.logText,children:o})]})})}function fe(e,r){return r[e].id}const S=ue(({index:e,style:r,data:o})=>{const s=o[e];return t.jsx("div",{style:r,children:t.jsx(me,{...s})})},F);S.displayName="MemoRow";function _e({dispatch:e,logLevel:r,apiConfig:o,logs:s,logStreamingPaused:a}){const n=P(),l=v(()=>{a?$({...o,logLevel:r}):A(),n.app.updateAppConfig("logStreamingPaused",!a)},[o,r,a,n.app]),g=v(b=>e(w(b)),[e]);de(()=>{D({...o,logLevel:r},g)},[o,r,g]);const[i,j]=B(),{t:h}=L();return t.jsxs("div",{children:[t.jsx(N,{title:h("Logs")}),t.jsx("div",{className:c.search,children:t.jsx(re,{})}),t.jsx("div",{ref:i,style:{paddingBottom:m},children:s.length===0?t.jsxs("div",{className:c.logPlaceholder,style:{height:j-m},children:[t.jsx("div",{className:c.logPlaceholderIcon,children:t.jsx(z,{width:200,height:200})}),t.jsx("div",{children:h("no_logs")})]}):t.jsxs("div",{className:c.logsWrapper,children:[t.jsx(M,{height:j-m,width:"100%",itemCount:s.length,itemSize:80,itemData:s,itemKey:fe,children:S}),t.jsx(q,{icon:a?t.jsx(K,{size:16}):t.jsx(V,{size:16}),mainButtonStyles:a?{background:"#e74c3c"}:{},style:G,text:h(a?"Resume Refresh":"Pause Refresh"),onClick:l})]})})]})}const je=e=>({logs:C(e),logLevel:W(e),apiConfig:O(e),logStreamingPaused:k(e)}),we=y(je)(_e);export{we as default};
